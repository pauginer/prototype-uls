<!DOCTYPE html>
<html lang="es">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>ULS prototype</title>
		<link href="libs/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
		<link rel="stylesheet" href="style/jquery.uls.css">
		<link rel="stylesheet" href="style/ext.uls.css">
		<link rel="stylesheet" href="style/ext.uls.languagesettings.css">
		<link rel="stylesheet" href="style/ext.uls.displaysettings.css">
		<link rel="stylesheet" href="style/ext.uls.inputsettings.css">
		<link rel="stylesheet" href="style/base.css">
		<script src="libs/jquery.js"></script>
   		<script src="libs/jquery.i18n.min.js"></script>
   		<script src="libs/bootstrap/js/bootstrap.min.js"></script>
		<script>
		var article="lisa";
		var langs = null;
		var contentLang="en";
		function loadArticleInfo(article){
			$.getJSON('lang/'+article+'.json', function(data) {
				langs=data.langs;
				setArticleLang(contentLang);
				createArticleLinks();
			});
			
		}
		
		function createArticleLinks(){
			var list=$(".language-list");
			list.empty();
			langs.forEach(function(lang){
				var item= $('<li>');
				item.text(lang.name);
				item.attr('lang',lang.code);
				item.click(interLanguageLink);
				if(contentLang != lang.code){
					list.append(item);
				}
			});
		}
		
		function setArticleLang(lang){
			var langcode = lang;
			var filename="images/article-"+article+"-"+langcode+ ".png";
			$('.article-bg').attr('src',filename);
		}
		
		function interLanguageLink(){
			$("body").hide();
			var elt = $(this);
		 	contentLang = elt.attr('lang');
			
			$('.language').show();
			setArticleLang(contentLang);
			createArticleLinks();
			$("body").fadeIn();
		
		}
		
		function toggleLanguageSettingsDialog(){
			$('.language-settings-dialog').toggleClass('hidden');
			$(this).toggleClass('active'); 
		}
		
		$( document ).ready( function() {
			
			//Process parameters:
			
			
			//Create elements:
			loadArticleInfo(article);
			
			//Callbacks:
			$('.menu-group').click( function(){$(this).toggleClass('closed'); } );
			$('.language-settings').tooltip({'placement':'right', 'delay': { show: 2000, hide: 100 }});
			$('.language-settings').click(toggleLanguageSettingsDialog);
		});
		</script>
	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="sidebar"> <!-- Sidebar -->
					<div class="logo"></div>
					<div class="title">Wikipedia</div>
					<div class="motto">The free encyclopedia</div>
					<div class="toolbox">
						<div class="general">
							<ul>
								<li>Main page</li>
								<li>Contents</li>
								<li>Featured content</li>
								<li>Current events</li>
								<li>Random article</li>
								<li>Donate to Wikipedia</li>
							</ul>
							<div class="menu-group interaction-menu">Interaction</div>
							<ul>								
								<li>Help</li>
								<li>About Wikipedia</li>
								<li>Community portal</li>
								<li>Recent changes</li>
								<li>Contact wikipedia</li>
							</ul>	
							<div class="menu-group toolbox-menu">Toolbox</div>
							<ul>								
								<li>What links here</li>
								<li>Related changes</li>
								<li>Upload file</li>
								<li>Special pages</li>
								<li>Permanent link</li>
								<li>Page information</li>
								<li>Cite this page</li>
							</ul>
							<div class="menu-group closed export-menu">Print/Export</div>
							<ul>					
								<li>Create a book</li>
								<li>Download as PDF</li>
								<li>Printable version</li>
							</ul>
							</div>
							
						<div class="languages">
							<div class="language-settings" data-toggle="tooltip" title="Language settings"></div>
							<div class="uls-position">
								
								<div  id="language-settings-dialog" class="hidden grid uls-menu uls-wide language-settings-dialog"><div class="row"><span id="languagesettings-close" class="icon-close"></span></div><div class="row" id="languagesettings-panels"><div class="four columns languagesettings-menu"><h1 data-i18n="ext-uls-language-settings-title">Language settings</h1><div class="settings-menu-items"><div class="display-settings-block menu-section active" id="display-settings-block"><div class="settings-title">Display</div><span class="settings-text">Set language used for menus and fonts.</span></div><div class="input-settings-block menu-section" id="input-settings-block"><div class="settings-title">Input</div><span class="settings-text">Writing in a different language?</span></div></div></div><div id="languagesettings-settings-panel" class="eight columns"><div class="uls-display-settings"><div class="row"><div class="twelve columns"><h3 data-i18n="ext-uls-display-settings-title">Display settings</h3></div></div><div class="row"><div class="eleven columns"><h4 data-i18n="ext-uls-display-settings-ui-language">Language for display</h4></div></div><div class="row"><div class="uls-ui-languages eleven columns"><button class="button uls-language-button down" lang="en" dir="ltr">English</button><button class="button uls-language-button" lang="ca" dir="ltr">català</button><button class="button uls-language-button" lang="es" dir="ltr">español</button><button id="uls-more-languages" class="button">...</button></div></div><div class="row"><div class="twelve columns"><h4 data-i18n="ext-uls-display-settings-font-settings">Font settings</h4></div></div><div class="row"><div class="eleven columns"><label class="checkbox"><input type="checkbox" id="webfonts-enable-checkbox"><strong data-i18n="ext-uls-webfonts-settings-title">Download font when needed</strong> <span data-i18n="ext-uls-webfonts-settings-info">Webfonts will be downloaded for displaying text in special scripts.</span> <a target="_blank" href="//www.mediawiki.org/wiki/Special:MyLanguage/Help:Extension:WebFonts" data-i18n="ext-uls-webfonts-settings-info-link">More information</a></label></div></div><div class="row uls-content-fonts" style=""><div class="six columns"><label class="uls-font-label" id="content-font-selector-label"><strong>Select font for English</strong><div data-i18n="ext-uls-webfonts-select-for-content-info">Font used for content</div></label></div><select id="content-font-selector" class="four columns end uls-font-select"><option value="OpenDyslexic">OpenDyslexic</option><option value="system" selected="selected">System font</option></select></div><div class="row uls-ui-fonts" style="display: none;"><div class="six columns"><label class="uls-font-label" id="ui-font-selector-label"></label></div><select id="ui-font-selector" class="four columns end uls-font-select"></select></div><div class="row"></div><div class="row language-settings-buttons"><div class="eleven columns"><button class="button uls-display-settings-cancel" data-i18n="ext-uls-language-settings-cancel">Cancel</button><button class="button active blue" id="uls-displaysettings-apply" data-i18n="ext-uls-language-settings-apply" disabled="">Apply settings</button></div></div></div></div></div></div>
							
							</div>	
							<div class="menu-group language-menu">Languages</div>
							<ul class="language-list">
							</ul>
						</div>
						
					</div>
					
				</div>
				<div class="header"> <!-- Headers -->
					<div class="row">
						<div class="personal">
							<div class="span2">
								Create account
							</div>
							<div class="span1">
								Login
							</div>
						</div>
						<div class="tabs">
							<div class="tab-group">
								<div class="span1 article tab active">
									Article
								</div>
								<div class="span1 talk tab">
									Talk
								</div>
							</div>
							<div class="tab-group">
								<div class="span1 read tab active">
									Read
								</div>
								<div class="span2 source tab">
									View source
								</div>
								<div class="span2 source tab">
									View history
								</div>
								<div class=" search">
									<input class="searchbox" type="text" placeholder="Search" />
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<img class="article-bg" src="images/article-lisa-en.png" width="958" height="7000"></img>
	</body>
</html>
